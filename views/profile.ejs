<%- include('partials/header') %>

<body class="bg-gray-100 text-gray-900">
    <div class="min-h-screen flex items-center justify-center">
        <div class="bg-white shadow-lg rounded-2xl p-8 w-full max-w-2xl">
            <div class="flex flex-col items-center"> 
                <div class="w-32 h-32 bg-gray-300 rounded-full flex items-center justify-center text-gray-500 text-4xl font-bold">
                    <% if (user.fullname) { %>
                        <%= user.fullname.charAt(0).toUpperCase() %>  
                    <% } else { %>
                        ?  
                    <% } %>
                </div>

                <h1 class="text-3xl font-semibold mt-6 text-gray-800"><%= user.fullname %></h1>
                <p class="text-gray-600 text-lg"><%= user.email %></p>

                <div class="mt-8 w-full text-center">
                    <p class="text-lg text-gray-700"><strong class="font-medium">Cart Items:</strong> <%= user.cart.length %></p>
                    <ul class="mt-4">
                        <% user.cart.forEach(product => { %>
                            <li class="text-gray-700 text-md mt-2">
                                <strong class="font-medium"><%= product.name %></strong> - <%= product.price %>
                            </li>
                        <% }) %>
                    </ul>
                </div>

                <div class="mt-8 w-full text-center">
                    <p class="text-lg text-gray-700"><strong class="font-medium">Orders Placed:</strong> <%= user.orders.length %></p>
                    <% if (user.orders.length > 0) { %>
                        <ul class="mt-4">
                            <% user.orders.forEach(order => { %>
                                <li class="text-gray-700 text-md mt-2">
                                    Order ID: <%= order._id %>
                                </li>
                            <% }) %>
                        </ul>
                    <% } else { %>
                        <p class="text-gray-600">No orders placed yet.</p>
                    <% } %>
                </div>

                <div class="mt-8 w-full text-center">
                    <p class="text-lg text-gray-700"><strong class="font-medium">Account Created:</strong> 
                        <%= user.createdAt ? new Date(user.createdAt).toDateString() : "N/A" %>
                    </p>
                </div>

                <a href="/users/logout" class="mt-8 bg-red-600 text-white px-6 py-3 rounded-lg text-xl hover:bg-red-700 transition duration-300">Logout</a>
            </div>
        </div>
    </div>
</body>

<%- include('partials/footer') %>
